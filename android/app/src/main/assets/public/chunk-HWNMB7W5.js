import{B as I,F,G as l,H as S,I as w,J as y,K as M,L as k,M as P,N as T,O,T as N,U as R,V as L,W as j,X as q,Z as z,ca as A,da as G,ea as B,g,ga as D,h as u,i as v,ia as H,j as f,k as d,ka as V,l as t,la as Y,m as e,ma as J,n as b,p as x,v as i,x as C,y as E}from"./chunk-UEAWK4NI.js";import"./chunk-O2HV3TP5.js";import"./chunk-GLN4K2RZ.js";import"./chunk-GATH6GKJ.js";import"./chunk-57UGKZLR.js";import"./chunk-VGFUWHMS.js";import"./chunk-LGEUKOOL.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{k as _}from"./chunk-DOEZFXYJ.js";function K(o,r){o&1&&(t(0,"ion-note",15),i(1," El nombre debe tener al menos 2 caracteres "),e())}function Q(o,r){o&1&&(t(0,"ion-note",15),i(1," El apellido debe tener al menos 2 caracteres "),e())}function U(o,r){o&1&&(t(0,"ion-note",15),i(1," Ingresa un correo v\xE1lido "),e())}function W(o,r){o&1&&(t(0,"ion-note",15),i(1," La contrase\xF1a debe tener al menos 6 caracteres "),e())}var de=(()=>{let r=class r{constructor(s,m,n,a){this.fb=s,this.authService=m,this.toastCtrl=n,this.router=a,this.registerForm=this.fb.group({nombre:["",[l.required,l.minLength(2)]],apellido:["",[l.required,l.minLength(2)]],email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]],language:["Espa\xF1ol",l.required]})}ngOnInit(){}onSubmit(){return _(this,null,function*(){if(!this.registerForm.valid){this.registerForm.markAllAsTouched();return}let{nombre:s,apellido:m,email:n,password:a,language:p}=this.registerForm.value,c=yield this.authService.register(s,m,n,a,p);c.success?(this.showToast("Registro exitoso"),this.router.navigate(["/login"])):this.showToast(this.firebaseErrorToMessage(c.message||"Error al registrar"))})}firebaseErrorToMessage(s){switch(s){case"Firebase: Error (auth/email-already-in-use).":return"El correo ya est\xE1 registrado.";case"Firebase: Error (auth/invalid-email).":return"Correo inv\xE1lido.";case"Firebase: Error (auth/weak-password).":return"La contrase\xF1a es muy d\xE9bil.";default:return"Ocurri\xF3 un error, intenta de nuevo."}}showToast(s){return _(this,null,function*(){(yield this.toastCtrl.create({message:s,duration:2500,position:"bottom"})).present()})}goToLogin(){this.router.navigate(["/login"])}};r.\u0275fac=function(m){return new(m||r)(u(P),u(J),u(H),u(I))},r.\u0275cmp=v({type:r,selectors:[["app-register"]],decls:43,vars:7,consts:[[1,"ion-padding",3,"fullscreen"],[1,"register-container"],[3,"ngSubmit","formGroup"],["position","floating"],["type","text","formControlName","nombre"],["color","danger",4,"ngIf"],["type","text","formControlName","apellido"],["type","email","formControlName","email"],["type","password","formControlName","password"],["formControlName","language"],["value","Espa\xF1ol"],["value","English"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],[1,"ion-text-center","ion-margin-top"],["fill","clear",1,"ion-margin-top",3,"click"],["color","danger"]],template:function(m,n){if(m&1&&(t(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),i(5,"Registro"),e()(),t(6,"ion-card-content")(7,"form",2),x("ngSubmit",function(){return n.onSubmit()}),t(8,"ion-item")(9,"ion-label",3),i(10,"Nombre"),e(),b(11,"ion-input",4),e(),f(12,K,2,0,"ion-note",5),t(13,"ion-item")(14,"ion-label",3),i(15,"Apellido"),e(),b(16,"ion-input",6),e(),f(17,Q,2,0,"ion-note",5),t(18,"ion-item")(19,"ion-label",3),i(20,"Correo"),e(),b(21,"ion-input",7),e(),f(22,U,2,0,"ion-note",5),t(23,"ion-item")(24,"ion-label",3),i(25,"Contrase\xF1a"),e(),b(26,"ion-input",8),e(),f(27,W,2,0,"ion-note",5),t(28,"ion-item")(29,"ion-label"),i(30,"Selecciona tu idioma"),e(),t(31,"ion-select",9)(32,"ion-select-option",10),i(33,"Espa\xF1ol"),e(),t(34,"ion-select-option",11),i(35,"English"),e()()(),t(36,"ion-button",12),i(37," Registrarse "),e()(),t(38,"div",13)(39,"p"),i(40,"\xBFYa tienes cuenta?"),e(),t(41,"ion-button",14),x("click",function(){return n.goToLogin()}),i(42," Inicia sesi\xF3n "),e()()()()()()),m&2){let a,p,c,h;d("fullscreen",!0),g(7),d("formGroup",n.registerForm),g(5),d("ngIf",((a=n.registerForm.get("nombre"))==null?null:a.touched)&&((a=n.registerForm.get("nombre"))==null?null:a.hasError("minlength"))),g(5),d("ngIf",((p=n.registerForm.get("apellido"))==null?null:p.touched)&&((p=n.registerForm.get("apellido"))==null?null:p.hasError("minlength"))),g(5),d("ngIf",((c=n.registerForm.get("email"))==null?null:c.touched)&&((c=n.registerForm.get("email"))==null?null:c.invalid)),g(5),d("ngIf",((h=n.registerForm.get("password"))==null?null:h.touched)&&((h=n.registerForm.get("password"))==null?null:h.hasError("minlength"))),g(9),d("disabled",n.registerForm.invalid)}},dependencies:[z,E,C,T,y,S,w,O,M,k,A,G,V,N,B,R,L,j,q,Y,D,F],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(-45deg, #1f1c2c, #928dab, #1f1c2c, #928dab);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientMove 12s ease infinite}@keyframes _ngcontent-%COMP%_gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.register-container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;padding:16px}ion-card[_ngcontent-%COMP%]{width:100%;max-width:420px;border-radius:20px;background:#ffffff14;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 8px 32px #0000004d;overflow:hidden;border:1px solid rgba(255,255,255,.15);transition:transform .3s ease,box-shadow .3s ease}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 36px #0006}ion-card-header[_ngcontent-%COMP%]{background:transparent;padding:20px;text-align:center}ion-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;letter-spacing:1px}ion-item[_ngcontent-%COMP%]{--highlight-color-focused: #00f2fe;--padding-start: 14px;--inner-padding-end: 14px;border-radius:10px;margin-top:14px;background:#ffffff1a}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-size:1rem;color:#f1f1f1}ion-label[_ngcontent-%COMP%]{color:#dcdcdc}ion-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #00f2fe, #4facfe);--background-activated: #2193b0;border-radius:14px;font-weight:700;margin-top:18px;transition:transform .2s ease-in-out,box-shadow .2s ease}ion-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 18px #00f2fe66}ion-note[color=danger][_ngcontent-%COMP%]{font-size:.85rem;margin-left:10px;margin-top:5px;display:block;color:#ff6b6b}"]});let o=r;return o})();export{de as RegisterPage};
