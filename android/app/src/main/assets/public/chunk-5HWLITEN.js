import{B as v,F as I,G as g,H as w,I as M,J as F,K as k,L as S,M as y,N as P,O as E,T,U as O,V as N,W as L,X as j,Z as R,ca as z,da as G,ea as A,g as m,h as u,i as x,ia as B,j as f,k as d,ka as D,l as i,m as t,ma as q,n as b,p as h,v as r,x as _,y as C}from"./chunk-UEAWK4NI.js";import"./chunk-O2HV3TP5.js";import"./chunk-GLN4K2RZ.js";import"./chunk-GATH6GKJ.js";import"./chunk-57UGKZLR.js";import"./chunk-VGFUWHMS.js";import"./chunk-LGEUKOOL.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{k as p}from"./chunk-DOEZFXYJ.js";function H(l,a){l&1&&(i(0,"ion-note",10),r(1," Ingresa un correo v\xE1lido "),t())}function V(l,a){l&1&&(i(0,"ion-note",10),r(1," La contrase\xF1a debe tener al menos 6 caracteres "),t())}var ie=(()=>{let a=class a{constructor(n,o,e,s){this.fb=n,this.authService=o,this.toastCtrl=e,this.router=s,this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]]})}onSubmit(){return p(this,null,function*(){if(!this.loginForm.valid){this.loginForm.markAllAsTouched();return}let{email:n,password:o}=this.loginForm.value;if(!n||!o)return;let e=yield this.authService.login(n,o);e.success?(this.showToast("Inicio de sesi\xF3n exitoso"),this.router.navigate(["/home"])):this.showToast(this.firebaseErrorToMessage(e.message||"Error al iniciar sesi\xF3n"))})}goToRegister(){this.router.navigate(["/register"])}firebaseErrorToMessage(n){switch(n){case"Firebase: Error (auth/user-not-found).":return"Usuario no encontrado.";case"Firebase: Error (auth/wrong-password).":return"Contrase\xF1a incorrecta.";case"Firebase: Error (auth/invalid-email).":return"Correo inv\xE1lido.";default:return"Ocurri\xF3 un error al iniciar sesi\xF3n."}}showToast(n){return p(this,null,function*(){(yield this.toastCtrl.create({message:n,duration:2500,position:"bottom"})).present()})}};a.\u0275fac=function(o){return new(o||a)(u(y),u(q),u(B),u(v))},a.\u0275cmp=x({type:a,selectors:[["app-login"]],decls:25,vars:5,consts:[[1,"ion-padding",3,"fullscreen"],[1,"login-container"],[3,"ngSubmit","formGroup"],["position","floating"],["type","email","formControlName","email"],["color","danger",4,"ngIf"],["type","password","formControlName","password"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],[1,"ion-text-center","ion-margin-top"],["fill","clear",3,"click"],["color","danger"]],template:function(o,e){if(o&1&&(i(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),r(5,"Iniciar Sesi\xF3n"),t()(),i(6,"ion-card-content")(7,"form",2),h("ngSubmit",function(){return e.onSubmit()}),i(8,"ion-item")(9,"ion-label",3),r(10,"Correo"),t(),b(11,"ion-input",4),t(),f(12,H,2,0,"ion-note",5),i(13,"ion-item")(14,"ion-label",3),r(15,"Contrase\xF1a"),t(),b(16,"ion-input",6),t(),f(17,V,2,0,"ion-note",5),i(18,"ion-button",7),r(19," Ingresar "),t()(),i(20,"div",8)(21,"p"),r(22,"\xBFNo tienes cuenta?"),t(),i(23,"ion-button",9),h("click",function(){return e.goToRegister()}),r(24,"Crear cuenta"),t()()()()()()),o&2){let s,c;d("fullscreen",!0),m(7),d("formGroup",e.loginForm),m(5),d("ngIf",((s=e.loginForm.get("email"))==null?null:s.touched)&&((s=e.loginForm.get("email"))==null?null:s.invalid)),m(5),d("ngIf",((c=e.loginForm.get("password"))==null?null:c.touched)&&((c=e.loginForm.get("password"))==null||c.errors==null?null:c.errors.minlength)),m(),d("disabled",e.loginForm.invalid)}},dependencies:[C,_,P,F,w,M,E,k,S,I,R,z,G,D,T,A,O,N,L,j],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(-45deg, #1f1c2c, #928dab, #1f1c2c, #928dab);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientMove 12s ease infinite}@keyframes _ngcontent-%COMP%_gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.login-container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;padding:16px}ion-card[_ngcontent-%COMP%]{width:100%;max-width:380px;border-radius:20px;background:#ffffff14;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 8px 32px #0000004d;overflow:hidden;border:1px solid rgba(255,255,255,.15);transition:transform .3s ease,box-shadow .3s ease}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 36px #0006}ion-card-header[_ngcontent-%COMP%]{background:transparent;padding:20px;text-align:center}ion-card-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#fff;letter-spacing:1px}ion-item[_ngcontent-%COMP%]{--highlight-color-focused: #00f2fe;--padding-start: 14px;--inner-padding-end: 14px;border-radius:10px;margin-top:14px;background:#ffffff1a}ion-input[_ngcontent-%COMP%]{font-size:1rem;color:#f1f1f1}ion-label[_ngcontent-%COMP%]{color:#dcdcdc}ion-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #00f2fe, #4facfe);--background-activated: #2193b0;border-radius:14px;font-weight:700;margin-top:18px;transition:transform .2s ease-in-out,box-shadow .2s ease}ion-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 18px #00f2fe66}ion-note[color=danger][_ngcontent-%COMP%]{font-size:.85rem;margin-left:10px;margin-top:5px;display:block;color:#ff6b6b}"]});let l=a;return l})();export{ie as LoginPage};
