import{B as _,G as p,H as P,I as k,J as w,K as I,L as y,M,N as S,O as F,T as O,U as E,V as N,W as z,X as j,Y as G,Z as L,ba as T,ca as U,da as A,ea as D,fa as V,g as c,h as u,i as h,j as g,ja as R,k as s,ka as B,l as n,m as e,ma as H,n as m,p as x,v as r,x as v,y as C}from"./chunk-UEAWK4NI.js";import"./chunk-O2HV3TP5.js";import"./chunk-GLN4K2RZ.js";import"./chunk-GATH6GKJ.js";import"./chunk-57UGKZLR.js";import"./chunk-VGFUWHMS.js";import"./chunk-LGEUKOOL.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{k as b}from"./chunk-DOEZFXYJ.js";function Y(d,a){d&1&&(n(0,"ion-note",15),r(1," Ingresa un correo v\xE1lido "),e())}function q(d,a){d&1&&(n(0,"ion-note",15),r(1," La contrase\xF1a debe tener al menos 6 caracteres "),e())}var te=(()=>{let a=class a{constructor(o,i,t){this.fb=o,this.authService=i,this.router=t,this.profileForm=this.fb.group({name:["",[p.minLength(2)]],lastname:["",[p.minLength(2)]],email:["",[p.email]],password:["",[p.minLength(6)]]})}ngOnInit(){console.log("UpdateProfilePage initialized");let o=this.authService.getCurrentUser();o&&this.profileForm.patchValue({name:o.displayName?.split(" ")[0]||"",lastname:o.displayName?.split(" ")[1]||"",email:o.email||""})}onSubmit(){return b(this,null,function*(){if(this.profileForm.valid){let o=this.profileForm.value,i={};if(Object.keys(o).forEach(t=>{let l=o[t];l&&(i[t]=l)}),Object.keys(i).length>0){let t=yield this.authService.updateProfile(i);t.success?(console.log("Profile updated successfully"),this.router.navigate(["/home"])):console.error("Error updating profile:",t.message)}else console.log("No fields to update")}else console.log("Form is invalid"),this.profileForm.markAllAsTouched()})}};a.\u0275fac=function(i){return new(i||a)(u(M),u(H),u(_))},a.\u0275cmp=h({type:a,selectors:[["app-updateprofile"]],decls:40,vars:5,consts:[[1,"ion-padding",3,"fullscreen"],[1,"back-btn-container"],["routerLink","/home",1,"back-btn"],["slot","start","name","arrow-back-outline"],[1,"profile-container"],[3,"ngSubmit","formGroup"],["size","6"],["position","floating"],["type","text","formControlName","name"],["type","text","formControlName","lastname"],["size","12"],["type","email","formControlName","email"],["color","danger",4,"ngIf"],["type","password","formControlName","password"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],["color","danger"]],template:function(i,t){if(i&1&&(n(0,"ion-content",0)(1,"div",1)(2,"ion-button",2),m(3,"ion-icon",3),r(4," Home "),e()(),n(5,"div",4)(6,"ion-card")(7,"ion-card-header")(8,"ion-card-title"),r(9,"Actualizar Perfil"),e()(),n(10,"ion-card-content")(11,"form",5),x("ngSubmit",function(){return t.onSubmit()}),n(12,"ion-grid")(13,"ion-row")(14,"ion-col",6)(15,"ion-item")(16,"ion-label",7),r(17,"Nombre"),e(),m(18,"ion-input",8),e()(),n(19,"ion-col",6)(20,"ion-item")(21,"ion-label",7),r(22,"Apellido"),e(),m(23,"ion-input",9),e()()(),n(24,"ion-row")(25,"ion-col",10)(26,"ion-item")(27,"ion-label",7),r(28,"Correo"),e(),m(29,"ion-input",11),e(),g(30,Y,2,0,"ion-note",12),e()(),n(31,"ion-row")(32,"ion-col",10)(33,"ion-item")(34,"ion-label",7),r(35,"Contrase\xF1a"),e(),m(36,"ion-input",13),e(),g(37,q,2,0,"ion-note",12),e()()(),n(38,"ion-button",14),r(39," Guardar Cambios "),e()()()()()()),i&2){let l,f;s("fullscreen",!0),c(11),s("formGroup",t.profileForm),c(19),s("ngIf",((l=t.profileForm.get("email"))==null?null:l.touched)&&((l=t.profileForm.get("email"))==null?null:l.invalid)),c(7),s("ngIf",((f=t.profileForm.get("password"))==null?null:f.touched)&&((f=t.profileForm.get("password"))==null?null:f.invalid)),c(),s("disabled",t.profileForm.invalid)}},dependencies:[L,C,v,S,w,P,k,F,I,y,U,A,B,O,E,N,z,j,D,T,V,G,R],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(-45deg, #1f1c2c, #928dab, #1f1c2c, #928dab);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientMove 12s ease infinite}@keyframes _ngcontent-%COMP%_gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.profile-container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;padding:16px}ion-card[_ngcontent-%COMP%]{width:100%;max-width:420px;border-radius:20px;background:#ffffff14;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 8px 32px #0000004d;overflow:hidden;border:1px solid rgba(255,255,255,.15);transition:transform .3s ease,box-shadow .3s ease;position:relative}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 36px #0006}ion-card-header[_ngcontent-%COMP%]{background:transparent;padding:20px;text-align:center;position:relative}ion-card-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#fff;letter-spacing:1px}.back-fab[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #00f2fe, #4facfe);--background-activated: #2193b0;--color: #ffffff;box-shadow:0 6px 18px #00f2fe80;transition:transform .25s ease,box-shadow .25s ease}.back-fab[_ngcontent-%COMP%]:hover{transform:scale(1.15) rotate(-10deg);box-shadow:0 0 20px #00f2fee6}ion-item[_ngcontent-%COMP%]{--highlight-color-focused: #00f2fe;--padding-start: 14px;--inner-padding-end: 14px;border-radius:10px;margin-top:14px;background:#ffffff1a}ion-input[_ngcontent-%COMP%]{font-size:1rem;color:#f1f1f1}ion-label[_ngcontent-%COMP%]{color:#dcdcdc}ion-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #00f2fe, #4facfe);--background-activated: #2193b0;border-radius:14px;font-weight:700;margin-top:18px;transition:transform .2s ease-in-out,box-shadow .2s ease}ion-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 18px #00f2fe66}ion-note[color=danger][_ngcontent-%COMP%]{font-size:.85rem;margin-left:10px;margin-top:5px;display:block;color:#ff6b6b}"]});let d=a;return d})();export{te as UpdateProfilePage};
